// ----------------------------------- Header
.header {
  background-color: lighten($primary-color, 5%);
  display: table;
  width: 100%;
  padding: 5px 0;
  z-index: 900;

  a, a:link, a:visited {
    color: $page-header-text-color;
    text-decoration: none;
  }

  a:hover {
    color: #fff;
  }

  h1 {
    display: table-cell;
    vertical-align: middle;
    white-space: nowrap;
    color:  $page-header-text-color;
    padding: 0 $horizontal-page-margin;
    font-size: 1.3em;
    font-weight: normal;
    line-height: 1.2;

    a:hover {
      color: #fff;
    }
  }

  .header-item {
    position: relative;
  }

  ul.tabs {
    display: table-cell;
    height: 100%;
    margin: 0;
    padding: 0;
    vertical-align: middle;
    width: 100%;

    li {
      /* Hover on li, display the ul */
      &:hover > ul { display: block;}
    }

    & > li {
      display: inline-block;
      margin-right: 4px;
      margin-top: 5px;
      margin-bottom: 5px;
      font-size: 1.0em;
      position: relative;

      a {
        border-radius: 4px;
        padding: 6px 10px 4px 10px;
        position: relative;
      }

      &.current > a {
        background: $current-menu-item-background;
        color: #fff;
      }

      &.has_nested > a {
        background: url($menu-arrow-light-icon-url) no-repeat calc(100% - 7px) 50%;
        padding-right: 20px;
      }

      &.has_nested.current > a {
        background: $current-menu-item-background url($menu-arrow-dark-icon-url) no-repeat calc(100% - 7px) 50%;
        padding-right: 20px;
      }

      &:hover > a {
        background: $hover-menu-item-background;
        color: #fff;
      }

      &.has_nested:hover > a {
        border-bottom: 5px solid $hover-menu-item-background;
        background: $hover-menu-item-background url($menu-arrow-dark-icon-url) no-repeat calc(100% - 7px) 50%;
        z-index: 1020;
      }

      /* Drop down menus */
      ul {
        background: $hover-menu-item-background;
        border-radius: 0 4px 4px 4px;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
        display: none;
        list-style: none;
        margin-top: 5px;
        min-width: 175px;
        padding: 5px 0;
        position: absolute;
        z-index: 1010;

        li {
          position: relative;
          a {
            display: block;
          }

          &.current a,
          a:hover {
            color: #fff;
          }

          &.has_nested > a {
            background: url($menu-arrow-right-light-icon-url) no-repeat calc(100% - 7px) 55%;
            padding-right: 20px;
          }

          &.has_nested:hover > a {
            background: url($menu-arrow-right-dark-icon-url) no-repeat calc(100% - 7px) 55%;
            color: #fff;
          }

          ul {
            border-radius: 10px;
            margin-top: 0;
            top: -3px;
            left: 100%;

            /* Create an invisible backdrop that adds 8px margin around the dropdown menu or submenu
               that maintains the hover. This makes it much easier to navigate to submenus in
               particular without losing hover accientally, especially near rounded corners. */
            &:after {
              content: "";
              display: block;
              position: absolute;
              top: -8px;
              left: -8px;
              height: calc(100% + 16px);
              width: calc(100% + 16px);
              z-index: -2;
            }
          }
        }
      }
    }
  }
}

#utility_nav {
  color: #aaa;
  display: table-cell;
  white-space: nowrap;
  margin: 0;
  padding: 0;
  padding-right: 26px;
  text-align: right;
}
